{"info": {"description": "API to handle data from weareable devices related to health. The development of this service is provided by GATV, a research group from the Technical University of Madrid.", "termsOfService": "http://swagger.io/terms/", "contact": {"email": "vgr@gatv.ssr.upm.es"}, "license": {"name": "Apache 2.0", "url": "http://www.apache.org/licenses/LICENSE-2.0.html"}, "title": "Health Weareable REST API", "version": "1.1.0"}, "servers": ["https://gatv-dev.duckdns.org:8003"], "tags": [{"name": "data", "description": "Data related endpoints"}], "paths": {"/send/data/{device}": {"post": {"tags": ["data"], "summary": "Send data from an specific device", "description": "Send data from a device and save it to database", "operationId": "send_data_device", "parameters": [{"name": "device", "in": "path", "required": true, "schema": {"type": "string"}}], "requestBody": {"description": "Device data", "required": true, "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true}}}}, "responses": {"200": {"description": "Data has been saved properly", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiResponse"}}}}, "500": {"description": "Internal server error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}, "default": {"description": "Unexpected server response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}}}}, "/historic-data/{device}": {"get": {"tags": ["data"], "summary": "Get historic data from an specific device", "description": "Get all data stored from a device type", "operationId": "historic_data_device", "parameters": [{"name": "device", "in": "path", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Device data list", "content": {"application/json": {"schema": {"type": "array", "items": {"schema": "DeviceSchema"}}}}}, "500": {"description": "Internal server error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}, "default": {"description": "Unexpected server response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}}}}, "/last/{device}": {"get": {"tags": ["data"], "summary": "Get last data from an specific device", "description": "Get last data from device received in last 10 seconds", "operationId": "get_last_data_device", "parameters": [{"name": "device", "in": "path", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Device data", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DeviceSchema"}}}}, "500": {"description": "Internal server error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}, "default": {"description": "Unexpected server response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ErrorResponse"}}}}}}}}, "openapi": "3.0.0", "components": {"schemas": {"DeviceSchema": {"type": "object", "properties": {"data": {}, "timestamp": {"type": "string", "format": "date-time"}, "id": {}}, "required": ["data"]}, "ApiResponse": {"type": "object", "properties": {"status": {"type": "string", "description": "Status returned by the API"}}}, "ErrorResponse": {"type": "object", "properties": {"error": {"type": "string", "description": "Error returned by the API"}}}}}}